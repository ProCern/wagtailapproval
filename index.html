
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Wagtail Approval &#8212; wagtailapproval 0.5 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API" href="api/index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="wagtail-approval">
<h1>Wagtail Approval<a class="headerlink" href="#wagtail-approval" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/models.html">wagtailapproval.models</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/approvalitem.html">wagtailapproval.approvalitem</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/apps.html">wagtailapproval.apps</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/forms.html">wagtailapproval.forms</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/menu.html">wagtailapproval.menu</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/signals.html">wagtailapproval.signals</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/views.html">wagtailapproval.views</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/wagtail_hooks.html">wagtailapproval.wagtail_hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="api/_signals.html">wagtailapproval._signals</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="collection.html">Implementing approvals on your own collection items</a></li>
</ul>
</div>
<div class="section" id="id1">
<h2>Wagtail Approval<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>This is a wagtail plugin for approval pipelines.</p>
</div>
</div>
<div class="section" id="what-is-this">
<h1>What is this?<a class="headerlink" href="#what-is-this" title="Permalink to this headline">¶</a></h1>
<p>Essentially, this is a plugin for defining and enforcing flows of approval and
editing.  You can set up arbitrary “steps” in the flow, each step owning a group
(and all the users which belong to the group).  When a user creates a relevant
object, their step will catch it and take ownership of it.  When a user’s step
owns an object, that user can then approve or reject objects as relevant.  Steps
can be made to make all of their owned objects private, so that items can be
kept in an unpublished state until they are fully edited and approved (note that
“Published” takes a different meaning here than Wagtail’s own).  What this does
as far as pages are concerned could be replicated by creating a “creation” page
that is private and allowing approval and editing users to move pages into
specific areas, but that is messy and prone to failure.  This takes that
process, avoids all the moving pieces, and puts the whole thing on rails.</p>
</div>
<div class="section" id="does-it-work-out-of-the-box">
<h1>Does it work out of the box?<a class="headerlink" href="#does-it-work-out-of-the-box" title="Permalink to this headline">¶</a></h1>
<p>Wagtail Approval works out of the box for base wagtail (more specifically, it
works for Images, Documents, and Pages).  It can be extended to support any
other collectable type you wish, as long as that type properly implements
permissions for their collections (ie, respects the <code class="docutils literal"><span class="pre">add</span></code>, <code class="docutils literal"><span class="pre">change</span></code>, and
<code class="docutils literal"><span class="pre">delete</span></code> permissions and also properly implements view restrictions)</p>
</div>
<div class="section" id="what-does-not-work">
<h1>What does not work?<a class="headerlink" href="#what-does-not-work" title="Permalink to this headline">¶</a></h1>
<p>Wagtail Images are not made private when they are in their collection.  This is
an issue in Wagtail, and comes about because wagtail does not actually serve
images.  Images are instead served directly out of the Django media path.</p>
</div>
<div class="section" id="how-do-i-get-started">
<h1>How do I get started?<a class="headerlink" href="#how-do-i-get-started" title="Permalink to this headline">¶</a></h1>
<p>You can get started with the following steps:</p>
<ol class="arabic simple">
<li>Create an <a class="reference internal" href="api/models.html#wagtailapproval.models.ApprovalPipeline" title="wagtailapproval.models.ApprovalPipeline"><code class="xref py py-class docutils literal"><span class="pre">ApprovalPipeline</span></code></a> page.</li>
<li>Create a set of <a class="reference internal" href="api/models.html#wagtailapproval.models.ApprovalStep" title="wagtailapproval.models.ApprovalStep"><code class="xref py py-class docutils literal"><span class="pre">ApprovalStep</span></code></a>
pages inside the pipeline.</li>
<li>Link the steps together (after they are created and published) by their
approval and rejection fields.</li>
<li>Create users and assign them to the groups created by the steps.</li>
<li>Give the groups that should have creation permissions the relevant perms for
their types and pages that they should be able to create in.</li>
<li>Publish an object as a content creation user.</li>
</ol>
<p>There should be no subclassing necessary.  Appropriate extension should be
doable entirely through signals.  If you can’t extend this in the way you need
to through signals, it’s probably a bug in this plugin.</p>
</div>
<div class="section" id="what-versions-of-everything-are-supported">
<h1>What versions of everything are supported?<a class="headerlink" href="#what-versions-of-everything-are-supported" title="Permalink to this headline">¶</a></h1>
<p>Officially supported are Python 2.7 and 3.4, across Django 1.8, 1.9, 1.10, and 1.11,
and Wagtail 1.11 and 1.12.  I will not support below this, because collection
privacy was not supported below this point, and I don’t want to support this
without collection privacy.  It should be relatively easy to hack this out on
your own (CollectionViewRestriction might be the only pain point), but I can’t
make any promises.</p>
<p>There is a growing test suite in <code class="docutils literal"><span class="pre">tests</span></code>, and all combinations of the
supported versions are automaticaly tested with this suite through tox.</p>
</div>
<div class="section" id="license">
<h1>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h1>
<p>This project is licensed under the 2-clause BSD license, copyrighted by Absolute
Performance, Inc.  See the LICENSE document for more information.</p>
<p>Portions of code are copied from the
<a class="reference external" href="https://github.com/takeflight/wagtailnews">wagtailnews</a> project, and thus the
wagtailnews attribution requirements are carried as well by this project:</p>
<blockquote>
<div><p>Copyright (c) 2014, Tim Heap</p>
<p>All rights reserved.</p>
<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>
<ol class="arabic simple">
<li>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</li>
<li>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</li>
</ol>
<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS “AS IS”
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE
LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
POSSIBILITY OF SUCH DAMAGE.</p>
</div></blockquote>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></li>
<li><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></li>
<li><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></li>
</ul>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">wagtailapproval</a></h1>








<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/index.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="collection.html">Implementing approvals on your own collection items</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="api/index.html" title="next chapter">API</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, Taylor C. Richberger <tcr@absolute-performance.com>.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>
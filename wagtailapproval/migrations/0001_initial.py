# -*- coding: utf-8 -*-
# Generated by Django 1.11.5 on 2017-09-27 17:49
from __future__ import unicode_literals

from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0008_alter_user_username_max_length'),
        ('wagtailcore', '0040_page_draft_title'),
    ]

    operations = [
        migrations.CreateModel(
            name='ApprovalPipeline',
            fields=[
                ('page_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='wagtailcore.Page')),
                ('notes', models.TextField(blank=True)),
            ],
            options={
                'verbose_name': 'approval pipeline',
                'verbose_name_plural': 'approval pipelines',
            },
            bases=('wagtailcore.page',),
        ),
        migrations.CreateModel(
            name='Step',
            fields=[
                ('page_ptr', models.OneToOneField(auto_created=True, on_delete=django.db.models.deletion.CASCADE, parent_link=True, primary_key=True, serialize=False, to='wagtailcore.Page')),
                ('approval_step', models.ForeignKey(blank=True, default=None, help_text='The step that ownership is given to on approval', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='wagtailapproval.Step')),
                ('group', models.ForeignKey(blank=True, default=None, help_text='The group that permissions are modified for on entering or leaving this step. This should apply for pages as well as collections.  For all intents and purposes, users in this group are owned by this step, and everything they do is subject to the approval pipeline.', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='auth.Group')),
                ('rejection_step', models.ForeignKey(blank=True, default=None, help_text='The step that ownership is given to on rejection', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to='wagtailapproval.Step')),
            ],
            options={
                'abstract': False,
            },
            bases=('wagtailcore.page',),
        ),
    ]
